language = 'C'
include_guard = "main_bindings_h"
line_length = 100
documentation_style = "c99"
header = '''/*
 * The Shadow Simulator
 * See LICENSE for licensing information
 */
// clang-format off
'''
autogen_warning = "/* Warning, this file is autogenerated by cbindgen. Don't modify this manually. */"
includes = [
  "main/bindings/c/bindings-opaque.h",
  "main/core/scheduler/scheduler_policy_type.h",
  "main/core/worker.h",
  "main/host/descriptor/descriptor_types.h",
  "main/host/status_listener.h",
  "main/host/syscall_handler.h",
  "main/host/syscall_types.h",
  "main/host/thread.h",
  "main/host/tracker_types.h",
]

[enum]
prefix_with_name = true
rename_variants = "ScreamingSnakeCase"

[fn]
must_use = "__attribute__((warn_unused_result))"

[export]
# Avoid exporting C types back through again.
exclude = ["LogLevel", "PluginPtr", "SysCallReg", "SysCallArgs", "Process", "Host", "Thread"]
# Generate all item types, excluding enum types.
# 
# While the opaque items are already exported, and included here via
# bindings-opaque.h, cbindgen doesn't see their definitions if we don't
# re-export them again here. i.e. it appears to not actually parse the headers
# included in the `includes` list.
item_types = ["constants", "globals", "structs", "unions", "typedefs", "opaque", "functions"]